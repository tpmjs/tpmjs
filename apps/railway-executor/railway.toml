[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "deno run --allow-net --allow-env --allow-read --allow-write server.ts"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

# Mount persistent volume for Deno cache
# This persists the cache across deploys and restarts
[[volumes]]
mountPath = "/app/.deno_cache"
name = "deno-cache"
